## Scenario
A key responsibility of a database administrator is to create proper data backups to ensure recovery in case of unexpected data loss. The e-commerce company you work for has tasked you with setting up backup and restore systems for their database.

## Learning objectives
In this lab, you will:
 - Create a backup of the dataset tables
 
 - Simulate a data loss scenario
 
 - Restore the data from the backup

## Software used in this lab

To complete this lab, you will use the MySQL relational database service available in the IBM Skills Network Labs (SN Labs) Cloud IDE.


::page{title&#x3D;&quot;About the dataset&quot;}

The dataset used here is not a real-life dataset but has been synthetically created for this lab.

## Prepare the lab environment

Before you proceed with the assignment, complete the steps below.

1. Start the MySQL server.

2. Use the link below to download the &#x60;database_create_load.sql&#x60; file using the MySQL terminal.

https://cf-courses-data.s3.us.cloud-object-storage.appdomain.cloud/Wh_cJzqc1wGq_AGgf0rHvQ/database-create-load.sql

3. Use the MySQL CLI or terminal to create a new database "sales".

4. Use the .sql file to create the tables and populate them with the data.



## Task 1: Create the backup

On the MySQL terminal, write a command to create a backup of the "FactSales" table. 

Make sure of the following.

1. The port number to be used is 3306.

2. The command execution should require manual password entry.

3. The backup should be written to the file "sales_backup.sql".

4. Save the command used for this task in a separate text document. Also save the command and its output as an image and name it "FactSales_backup.jpg". (Images can be saved with either the .jpg or .png extension.)

## Task 2: Drop the FactSales table

On the MySQL terminal, write a command to drop the "FactSales" table. 

1. The port number to be used is 3306.

2. The command execution should require manual password entry.

3. Save the command used for this task in a separate text document.

4. Display the tables in database "sales" using a command on the terminal. Save this command in the text document as well.

5. Take a screenshot of the output and name it "FactSales_dropped.jpg". (Images can be saved with either the .jpg or .png extension.)

6. Execute the show tables command to verify the deletion.

## Task 3a: Restore the FactSales table using the CLI

On the MySQL terminal, write a command that restores the FactSales table.

1. The port number to be used is 3306.

2. The command execution should require manual password entry.

3. Save the command used for this task in a separate text document.

4. Display the tables in &#x60;sales&#x60; database using a command on the terminal. Save this command in the text document as well. 

5. Take a screenshot of the output and name it "FactSales_restored.jpg". (Images can be saved with either the .jpg or .png extension.)

6. Verify the table restoration by querying the table to display the first 5 values.

## Task 3b (optional): Restore the FactSales table using the phpMyAdmin interface

Optionally, you may restore the table by using the backup file with the phpMyAdmin interface. Rename the table to &#x60;sales_restored&#x60; and run a query to display the first 5 entries.



Congratulations on completing this lab!

You successfully implemented a database backup and restore system to safeguard data against unexpected loss. You created a backup of the &#x60;FactSales&#x60; table, simulated a data loss scenario by dropping the table, and restored it using the saved backup.

## Author(s)
Abhishek Gagneja (https://www.linkedin.com/in/abhishek-gagneja-23051987/) 

### Other Contributor(s) 
Rav Ahuja

Â© IBM Corporation. All rights reserved.
## Changelog
| Date | Version | Changed by | Change Description |
|------|--------|--------|---------|
| 2025-02-10 | 0.1 | Abhishek Gagneja | Initial version created |
| 2025-02-10 | 0.2 | Jojy John | ID Reviewed |
| 2025-02-10 | 0.2 | Rahul Rawat | QC pass |
|   |   |   |   |
