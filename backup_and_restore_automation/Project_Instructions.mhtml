## Scenario
A key responsibility of a database administrator is to create proper data backups to ensure recovery in case of unexpected data loss. The e-commerce company you work for has tasked you with setting up backup and restore systems for their database.

## Learning objectives
In this lab, you will:
 - Create a backup of the dataset tables
 
 - Simulate a data loss scenario
 
 - Restore the data from the backup

## Software used in this lab

In this lab, you will use &lt;a href&#x3D;&quot;https://www.mysql.com/?utm_medium&#x3D;Exinfluencer&amp;utm_source&#x3D;Exinfluencer&amp;utm_content&#x3D;000026UJ&amp;utm_term&#x3D;10006555&amp;utm_id&#x3D;NA-SkillsNetwork-Channel-SkillsNetworkCoursesIBMDB0110ENSkillsNetwork24601058-2021-01-01&quot; target&#x3D;&quot;_blank&quot;&gt;MySQL&lt;/a&gt;, a Relational Database Management System (RDBMS) designed for efficient data storage, manipulation, and retrieval.

&lt;img src&#x3D;&quot;https://cf-courses-data.s3.us.cloud-object-storage.appdomain.cloud/IBM-DB0110EN-SkillsNetwork/labs/Lab%20-%20Create%20Tables%20and%20Load%20Data%20in%20MySQL%20using%20phpMyAdmin/images/mysql.png&quot; width&#x3D;&quot;100&quot; height&#x3D;&quot;100&quot;&gt;
&lt;p&gt;&lt;/p&gt;

To complete this lab, you will use the MySQL relational database service available in the IBM Skills Network Labs (SN Labs) Cloud IDE.



::page{title&#x3D;&quot;About the dataset&quot;}

The dataset used here is not a real-life dataset but has been synthetically created for this lab.

## Prepare the lab environment

Before you proceed with the assignment, complete the steps below.

1. Start the MySQL server.

2. Use the link below to download the &#x60;database_create_load.sql&#x60; file using the MySQL terminal.

&#x60;&#x60;&#x60;
https://cf-courses-data.s3.us.cloud-object-storage.appdomain.cloud/Wh_cJzqc1wGq_AGgf0rHvQ/database-create-load.sql
&#x60;&#x60;&#x60;

3. Use the MySQL CLI or terminal to create a new database &#x60;sales&#x60;.

4. Use the &#x60;.sql&#x60; file to create the tables and populate them with the data.

::page{title&#x3D;&quot;Assignment tasks&quot;}

## Task 1: Create the backup

On the MySQL terminal, write a command to create a backup of the &#x60;FactSales&#x60; table. 

Make sure of the following.

1. The port number to be used is &#x60;3306&#x60;.

2. The command execution should require manual password entry.

3. The backup should be written to the file &#x60;sales_backup.sql&#x60;.

4. Save the command used for this task in a separate text document. Also save the command and its output as an image and name it &#x60;FactSales_backup.jpg&#x60;. (Images can be saved with either the .jpg or .png extension.)

## Task 2: Drop the FactSales table

On the MySQL terminal, write a command to drop the &#x60;FactSales&#x60; table. 

1. The port number to be used is &#x60;3306&#x60;.

2. The command execution should require manual password entry.

3. Save the command used for this task in a separate text document.

4. Display the tables in &#x60;sales&#x60; database using a command on the terminal. Save this command in the text document as well.

5. Take a screenshot of the output and name it &#x60;FactSales_dropped.jpg&#x60;. (Images can be saved with either the .jpg or .png extension.)

6. Execute the show tables command to verify the deletion.

## Task 3a: Restore the FactSales table using the CLI

On the MySQL terminal, write a command that restores the &#x60;FactSales&#x60; table.

1. The port number to be used is &#x60;3306&#x60;.

2. The command execution should require manual password entry.

3. Save the command used for this task in a separate text document.

4. Display the tables in &#x60;sales&#x60; database using a command on the terminal. Save this command in the text document as well. 

5. Take a screenshot of the output and name it &#x60;FactSales_restored.jpg&#x60;. (Images can be saved with either the .jpg or .png extension.)

6. Verify the table restoration by querying the table to display the first 5 values.

## Task 3b (optional): Restore the FactSales table using the phpMyAdmin interface

Optionally, you may restore the table by using the backup file with the phpMyAdmin interface. Rename the table to &#x60;sales_restored&#x60; and run a query to display the first 5 entries.

::page{title&#x3D;&quot;Conclusion&quot;}

Congratulations on completing this lab!

You successfully implemented a database backup and restore system to safeguard data against unexpected loss. You created a backup of the &#x60;FactSales&#x60; table, simulated a data loss scenario by dropping the table, and restored it using the saved backup.

## Author(s)
[Abhishek Gagneja](https://www.linkedin.com/in/abhishek-gagneja-23051987/) 

### Other Contributor(s) 
Rav Ahuja

## &lt;h3 align&#x3D;&quot;center&quot;&gt; Â© IBM Corporation. All rights reserved. &lt;h3/&gt;
&lt;!--
## Changelog
| Date | Version | Changed by | Change Description |
|------|--------|--------|---------|
| 2025-02-10 | 0.1 | Abhishek Gagneja | Initial version created |
| 2025-02-10 | 0.2 | Jojy John | ID Reviewed |
| 2025-02-10 | 0.2 | Rahul Rawat | QC pass |
|   |   |   |   |
</textarea>
    </div>
</div>

<script src="/node_modules/@popperjs/core/dist/umd/popper.min.js?version=3.9.3"></script>
<script src="/node_modules/tippy.js/dist/tippy-bundle.umd.min.js?version=3.9.3"></script>

<script src="/node_modules/he/he.js?version=3.9.3"></script>
<script type="text/javascript" src="/node_modules/iframe-resizer/js/iframeResizer.contentWindow.min.js?version=3.9.3"></script>
 
<script src="/node_modules/plyr/dist/plyr.polyfilled.js?version=3.9.3"></script>
<link rel="stylesheet" href="/node_modules/plyr/dist/plyr.css?version=3.9.3" />
<link rel="stylesheet" href="public/css/custom_plyr.css?version=3.9.3" />

<script src="editormd/examples/js/jquery.min.js"></script>
<script src="editormd/editormd.js?version=3.9.3"></script>

<script src="editormd/languages/en.js"></script>

<script src="public/js/common.js?version=3.9.3"></script>
<script src="public/js/render.js?version=3.9.3"></script>

<script type="text/javascript">
    var authorEditor = $(function () {
        let metadata = he.decode('{&quot;markdown-version&quot;:&quot;v1&quot;,&quot;tool-type&quot;:&quot;theiadocker&quot;,&quot;locales-url&quot;:&quot;https://cf-courses-data.static.labs.skills.network/NUwuaVkzwhrupanmZUJJ6w/backup-restore-v1-locales.json&quot;}')
        injectMetadata(metadata)

        let token = findGetParameter("token");
        let LABS_BASE_URL = 'https://labs.cognitiveclass.ai';
        let asset_library_prefix_url = 'https://cf-courses-data.s3.us.cloud-object-storage.appdomain.cloud/IIcMQGr6LWrmJXsbfqs5dQ';
        let tool_type = "theiadocker";
        let filename = `backup-restore-v1.md`;
        let audioFileUrl = ``
        let localesUrl = `https://cf-courses-data.static.labs.skills.network/NUwuaVkzwhrupanmZUJJ6w/backup-restore-v1-locales.json`;
        let launch_presentation_locale = ``;
        let currentTheme = localStorage.getItem("theme") || (window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches ? "dark" : "default");

        return authorEditor = editormd("test-editormd", "3.9.3", {
            tool_type,
            filename,
            audioFileUrl,
            localesUrl,
            width: "100%",
            //height: "100%",
            autoHeight: true,
            // mode: 'markdown',
            theme: currentTheme,
            previewTheme: currentTheme,
            editorTheme: currentTheme === "dark" ? "pastel-on-dark" : "default",
            readOnly: true,
            pluginPath: 'plugins/',
            syncScrolling: false,
            htmlDecode: 'img',
            path: 'editormd/lib/',
            watch: false,
            // markdown,
            toolbar: false,
            atLink: false,
            toc: true,
            tocm: true,
            tocDropdown: false,
            tocTitle: "Table of Contents For your lab!",
            tex: true,
            flowChart: true,
            sequenceDiagram: true,
            codeFold: true, // Doesn't do anything?
            taskList: true,
            emoji: true,
            saveMarkdownToTextarea: true,

            onresize: function () {
                $("html,body").css("overflow", "hidden");

                this.preview.css({
                    width: $(window).width(),
                    height: $(window).height()
                })

                adjustProgressBarWidth()
            },
            fixCodeBlocks: function () {
                adjustCodeBlocks(this);
            },
            onchange: function () { // called after marked finsihed its rendering
                fixEncoding(this);

                if (this.settings.tool_type != "instructional-lab") {
                    fixCustomPlugins(this, 'https://reward.skills.network/claim');
                }
            },
            onload: function () {
                $(".markdown-body").addClass("hidden")
                $("[type=\"file\"]").bind("change", function () {
                    alert($(this).val());
                    authorEditor.cm.replaceSelection($(this).val());
                    console.log($(this).val(), authorEditor);
                });

                this.fullscreen();
                this.previewing();

                setPreviewWatchToolbar(this);

                if (tool_type != "instructional-lab") {
                    fixCustomPlugins(this, 'https://reward.skills.network/claim');
                }
                else {
                    if(audioFileUrl) {
                        addAudioWidget(this, audioFileUrl);
                    }
                }

                let langParam = findGetParameter("lang");

                function determineLanguage() {
                    if (langParam) {
                        return bcp47ToISO6391(langParam) || langParam.toUpperCase();
                    } else if (launch_presentation_locale) {
                        return bcp47ToISO6391(launch_presentation_locale);
                    } else if (localStorage.getItem("preferredLanguage")) {
                        return localStorage.getItem("preferredLanguage").toUpperCase();
                    } else {
                        return null;
                    }
                }

                const preferredLanguage = determineLanguage();

                setTranslationContent(preferredLanguage).finally(() => {
                    this.setMarkdown(this.getMarkdown());
                    this.previewing();
                    $(".markdown-body").removeClass("hidden")
                });

                setAssetLibraryPrefixUrl(asset_library_prefix_url);
                //comms with UI
                setParentUrl(LABS_BASE_URL);
                establishCommsWithUI(this);
                //let the UI know that the author-ide has loaded
                requestToUI({ type: "frame_loaded" });
            }
        });
    });
</script>
</body>

<script src="/node_modules/bootstrap/dist/js/bootstrap.bundle.min.js?version=3.9.3"></script>

</html>
